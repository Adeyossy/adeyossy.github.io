<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>De yosse: Design</title>
    <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/design.css">
</head>

<body>
    <nav>
        <div class="nav-brand">
            <img src="./logo-black.png" alt="Brand Logo" id="brand-logo">
            <!-- insert chevron for dropdown -->
            <img src="./icons/chevron-bottom.svg" alt="dropdown" width="16px" height="16px" id="dropdown-button">
        </div>
        <div class="nav-links">
            <a href="#" class="nav-link active-nav-link">Graphics Design</a>
            <a href="#" class="nav-link">Websites</a>
            <a href="#" class="nav-link">About</a>
            <a href="#" class="nav-link">Contact</a>
        </div>
    </nav>
    <main class="content">
        <div class="graphic-material-container">
            <img src="./images/chrissy-chops.jpg" alt="Graphic Material" class="graphic-material">
        </div>
        <div class="graphic-description-container">
            <h4 class="description-heading">REVIEW</h4>
            <p class="description-text">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Voluptas, assumenda in
                illo cupiditate nesciunt culpa fugit nihil vel expedita dolorem. Temporibus, cumque. Magni cum, sit quod
                possimus esse adipisci labore.</p>
            <h4 class="reviewer-client"></h4>
        </div>
    </main>
    <div class="navigation-buttons" id="left-button">
        <img src="./icons/chevron-left.svg" alt="Left button" width="32px" height="32px" class="navigation-button">
    </div>
    <div class="navigation-buttons" id="right-button">
        <img src="./icons/chevron-right.svg" alt="Right button" width="32px" height="32px" class="navigation-button">
    </div>
</body>

<script>
    let designJobsArray = [
        {
            name: "Chrissy's Small Chops",
            review: "...Awaiting review...",
            src: "./images/chrissy-chops.jpg",
            width: "auto",
            height: "100%"
        },
        {
            name: "FAMSA World Antibiotics Day",
            review: "...Awaiting review...",
            src: "./images/antibiotics.jpg",
            width: "auto",
            height: "90%"
        },
        {
            name: "Lorence Naturals",
            review: "The flyer was perfect, exactly to my specifications and you werenâ€™t too busy to work one on one with me to bring out the idea in my head. You were very patient with me and the flyer came out really nice. Professionalism and patience is Gold. Thank you very much for it.",
            src: "./images/lorence.jpg",
            width: "auto",
            height: "80%"
        },
        {
            name: "UIMSA Clinical Press",
            review: "...Awaiting review...",
            src: "./images/uimsa-clinical-press.jpg",
            width: "auto",
            height: "90%"
        },
        {
            name: "Calvary Love Singers Night",
            review: "...Awaiting review...",
            src: "./images/CLS-night.jpg",
            width: "auto",
            height: "100%"
        }
    ];

    let currentNumber = 0;

    let firstItem = designJobsArray[currentNumber];

    let leftButton = document.querySelector("#left-button");
    let rightButton = document.querySelector("#right-button");
    let graphicMaterial = document.querySelector("img.graphic-material");
    let reviewDescription = document.querySelector("p.description-text");
    let reviewerClient = document.querySelector("h4.reviewer-client");
    let mainContent = document.querySelector("main.content");
    let dropdownButton = document.querySelector("img#dropdown-button");
    let navLinks = document.querySelector(".nav-links");

    let dropdownState = false;
    let rotationState = 0;

    dropdownButton.addEventListener('click', () => {
        rotationState += 180;
        dropdownState = !dropdownState;
        dropdownState ? navLinks.style.display = "flex" : navLinks.style.display = "none";
        dropdownButton.style.transform = `rotate(${rotationState}deg)`;
        // setTimeout(() => dropdownButton.style.transform = "", 500);
    })

    const nextItem = (item) => {
        graphicMaterial.src = item.src;
        graphicMaterial.style.width = item.width;
        graphicMaterial.style.height = item.height;
        reviewDescription.innerHTML = item.review;
        reviewerClient.innerHTML = item.name;
    }

    const handleAnimations = (index, className) => {
        nextItem(designJobsArray[index % designJobsArray.length]);
        mainContent.classList.add(className);
        setTimeout(() => mainContent.classList.remove(className), 500);
    }

    nextItem(firstItem);

    rightButton.addEventListener('click', () => {
        handleAnimations(++currentNumber, "animateInClass");
    });

    leftButton.addEventListener('click', () => {
        currentNumber += designJobsArray.length;
        handleAnimations(--currentNumber, "animateOutClass");
    });

    window.addEventListener('keydown', (e) => {
        // console.log("key pressed = ", e);
        if(e.key == "ArrowRight"){
            handleAnimations(++currentNumber, "animateInClass");
        }

        if(e.key == "ArrowLeft"){
            currentNumber += designJobsArray.length;
            handleAnimations(--currentNumber, "animateOutClass");
        }
    });

</script>

</html>